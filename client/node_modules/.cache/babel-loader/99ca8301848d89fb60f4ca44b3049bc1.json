{"ast":null,"code":"import spotify from '../apis/spotify';\nimport bands from '../apis/bands';\nimport { ACCESS_TOKEN_RECEIVED, FETCH_CURRENT_USER, SIGN_OUT, FETCH_BANDS, FETCH_BAND } from './types';\n/* spotify action creators */\n\nexport const accessTokenReceived = token => async dispatch => {\n  dispatch({\n    type: ACCESS_TOKEN_RECEIVED,\n    payload: token\n  });\n};\nexport const fetchCurrentUser = () => async (dispatch, getState) => {\n  const response = await spotify.get('/me', {\n    headers: {\n      Authorization: 'Bearer ' + getState().auth.accessToken\n    }\n  });\n  dispatch({\n    type: FETCH_CURRENT_USER,\n    payload: response.data.id\n  });\n};\nexport const signOut = () => async dispatch => {\n  dispatch({\n    type: SIGN_OUT\n  });\n};\n/* api action creators */\n\nexport const fetchBands = () => async dispatch => {\n  const response = await bands.get('/bands');\n  dispatch({\n    type: FETCH_BANDS,\n    payload: response.data\n  });\n};\nexport const fetchBand = id => async dispatch => {\n  const response = await bands.get(`/bands/${id}`);\n  dispatch({\n    type: FETCH_BAND,\n    payload: response.data\n  });\n};\nexport const createBand = id => async dispatch => {\n  const response = await bands.get('/bands');\n  dispatch({\n    type: CREATE_BAND,\n    payload: response.data\n  });\n};","map":{"version":3,"sources":["/Users/charliewilson/personal/stan-band/client/src/actions/index.js"],"names":["spotify","bands","ACCESS_TOKEN_RECEIVED","FETCH_CURRENT_USER","SIGN_OUT","FETCH_BANDS","FETCH_BAND","accessTokenReceived","token","dispatch","type","payload","fetchCurrentUser","getState","response","get","headers","Authorization","auth","accessToken","data","id","signOut","fetchBands","fetchBand","createBand","CREATE_BAND"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,iBAApB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,SACEC,qBADF,EAEEC,kBAFF,EAGEC,QAHF,EAIEC,WAJF,EAKEC,UALF,QAKoB,SALpB;AAOA;;AAEA,OAAO,MAAMC,mBAAmB,GAAGC,KAAK,IAAI,MAAMC,QAAN,IAAkB;AAC5DA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAER,qBAAR;AAA+BS,IAAAA,OAAO,EAAEH;AAAxC,GAAD,CAAR;AACD,CAFM;AAIP,OAAO,MAAMI,gBAAgB,GAAG,MAAM,OAAOH,QAAP,EAAiBI,QAAjB,KAA8B;AAClE,QAAMC,QAAQ,GAAG,MAAMd,OAAO,CAACe,GAAR,CAAY,KAAZ,EAAmB;AACxCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE,YAAYJ,QAAQ,GAAGK,IAAX,CAAgBC;AADpC;AAD+B,GAAnB,CAAvB;AAMAV,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEP,kBAAR;AAA4BQ,IAAAA,OAAO,EAAEG,QAAQ,CAACM,IAAT,CAAcC;AAAnD,GAAD,CAAR;AACD,CARM;AAUP,OAAO,MAAMC,OAAO,GAAG,MAAM,MAAMb,QAAN,IAAkB;AAC7CA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEN;AAAR,GAAD,CAAR;AACD,CAFM;AAIP;;AAEA,OAAO,MAAMmB,UAAU,GAAG,MAAM,MAAMd,QAAN,IAAkB;AAChD,QAAMK,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAN,CAAU,QAAV,CAAvB;AACAN,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEL,WAAR;AAAqBM,IAAAA,OAAO,EAAEG,QAAQ,CAACM;AAAvC,GAAD,CAAR;AACD,CAHM;AAKP,OAAO,MAAMI,SAAS,GAAGH,EAAE,IAAI,MAAMZ,QAAN,IAAkB;AAC/C,QAAMK,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAN,CAAW,UAASM,EAAG,EAAvB,CAAvB;AACAZ,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEJ,UAAR;AAAoBK,IAAAA,OAAO,EAAEG,QAAQ,CAACM;AAAtC,GAAD,CAAR;AACD,CAHM;AAKP,OAAO,MAAMK,UAAU,GAAGJ,EAAE,IAAI,MAAMZ,QAAN,IAAkB;AAChD,QAAMK,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAN,CAAU,QAAV,CAAvB;AACAN,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEgB,WAAR;AAAqBf,IAAAA,OAAO,EAAEG,QAAQ,CAACM;AAAvC,GAAD,CAAR;AACD,CAHM","sourcesContent":["import spotify from '../apis/spotify';\nimport bands from '../apis/bands';\nimport {\n  ACCESS_TOKEN_RECEIVED,\n  FETCH_CURRENT_USER,\n  SIGN_OUT,\n  FETCH_BANDS,\n  FETCH_BAND } from './types';\n\n/* spotify action creators */\n\nexport const accessTokenReceived = token => async dispatch => {\n  dispatch({ type: ACCESS_TOKEN_RECEIVED, payload: token });\n};\n\nexport const fetchCurrentUser = () => async (dispatch, getState) => {\n  const response = await spotify.get('/me', {\n    headers: {\n      Authorization: 'Bearer ' + getState().auth.accessToken\n    }\n  });\n\n  dispatch({ type: FETCH_CURRENT_USER, payload: response.data.id });\n};\n\nexport const signOut = () => async dispatch => {\n  dispatch({ type: SIGN_OUT });\n};\n\n/* api action creators */\n\nexport const fetchBands = () => async dispatch => {\n  const response = await bands.get('/bands');\n  dispatch({ type: FETCH_BANDS, payload: response.data });\n}\n\nexport const fetchBand = id => async dispatch => {\n  const response = await bands.get(`/bands/${id}`);\n  dispatch({ type: FETCH_BAND, payload: response.data });\n}\n\nexport const createBand = id => async dispatch => {\n  const response = await bands.get('/bands');\n  dispatch({ type: CREATE_BAND, payload: response.data });\n}\n"]},"metadata":{},"sourceType":"module"}